<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  
  
    <meta name="description" content="个人博客">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>
    
    -sky-</title>
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<script src="/js/pace.min.js"></script>

<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="-sky-" type="application/atom+xml">
</head>

<body>
<main class="content">
  <section class="jumbotron">
  <div class="video">
    
      <div class="video-frame">
        <img src="/images/ocean/overlay-hero.png" alt="Decorative image frame">
      </div>
    
    <div class="video-media">
      <video playsinline="" autoplay="" loop="" muted="" data-autoplay=""
             poster="/images/ocean/ocean.png" x5-video-player-type="h5">
        <source src="/images/ocean/ocean.mp4" type="video/mp4">
        <source src="/images/ocean/ocean.ogv" type="video/ogg">
        <source src="/images/ocean/ocean.webm" type="video/webm">
        <p>Your user agent does not support the HTML5 Video element.</p>
      </video>
      <div class="video-overlay"></div>
    </div>
    <div class="video-inner text-center text-white">
      <h1><a href="/">-sky-</a></h1>
      <p>我有一个梦想，陶醉在绿水青山的故乡</p>
      <div><img src="/images/hexo-inverted.svg" class="brand" alt="-sky-"></div>
    </div>
    <div class="video-learn-more">
      <a class="anchor" href="#landingpage"><i class="fe fe-mouse"></i></a>
    </div>
  </div>
</section>

<div id="landingpage">
  <section class="outer">
  <article class="articles">
    
    <h1 class="page-type-title"></h1>

    
      
        

<article id="post-vim-C-开发环境搭建" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/ecad5b71/">vim C++开发环境搭建</a>
    </h2>
  
  




      </header>
    

    
      <div class="article-meta">
        <a href="/ecad5b71/" class="article-date">
  <time datetime="2021-01-26T11:24:20.000Z" itemprop="datePublished">2021-01-26</time>
</a>
        
      </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
        <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>基于vim8.2、coc.nvim + ccls 搭建C++开发环境。尽量不修改vim原生按键。提供语意补全和语意跳转查找引用等基本功能。</p>
<h2 id="依赖环境"><a href="#依赖环境" class="headerlink" title="依赖环境"></a>依赖环境</h2><p><code>cmake, git, nodejs, python3, python3-dev</code></p>
<ul>
<li><p>安装依赖：</p>
<p>centos:</p>
<p><code>yum install -y cmake git nodejs python3 python3-devel</code></p>
<p>ubuntu:</p>
<p><code>apt install -y cmake git nodejs python3 python3-dev</code></p>
</li>
<li><p>卸载系统绑定vim</p>
<blockquote>
<p>若vim 为 8.2及以上版本可以不卸载，并跳过源码安装vim</p>
</blockquote>
<p>centos:</p>
<p><code>yum remove vim</code></p>
</li>
<li><p>安装vim8.2</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">git clone --depth 1 -b v8.2.1052 https://github.com/vim/vim.git</span><br><span class="line"><span class="meta">#</span><span class="bash"> 到vim目录下</span></span><br><span class="line">cd vim</span><br><span class="line">./configure --with-features=huge \</span><br><span class="line">   --enable-multibyte \</span><br><span class="line">   --enable-python3interp \</span><br><span class="line">   --with-python3-config-dir=/usr/lib64/python3.6/config-3.6m-x86_64-linux-gnu \</span><br><span class="line">   --prefix=/usr/local/vim8</span><br><span class="line"></span><br><span class="line">make -j8</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>



</li>
</ul>
<h2 id="编译安装-LLVM-Clang"><a href="#编译安装-LLVM-Clang" class="headerlink" title="编译安装 LLVM+Clang"></a>编译安装 LLVM+Clang</h2><blockquote>
<p>若llvm和clang版本足够新，并且安装了clang-tools-extra  可以直接使用，无需源码安装</p>
<p>若系统为Ubuntu等常见系统，可以直接使用官网上与构建版本的二进制包 <a href="https://github.com/llvm/llvm-project/releases/download/llvmorg-11.0.0/clang+llvm-11.0.0-x86_64-linux-gnu-ubuntu-20.04.tar.xz" target="_blank" rel="noopener">Pre-Built Binaries   https://github.com/llvm/llvm-project/releases/download/llvmorg-11.0.0/clang+llvm-11.0.0-x86_64-linux-gnu-ubuntu-20.04.tar.xz</a></p>
<p>ubuntu版本的可能适配多种系统，若不愿意源码构建，可尝试一下</p>
</blockquote>
<p>需要下载四个源码，并放到同一个目录下面，安装编译即可，编译完成默认会放到系统目录中 （不同系统路径可能有所差异）  </p>
<blockquote>
<p>如需修改安装路径请自行修改安装脚本，若不懂请不要随意修改，避免发生错误不知如何操作</p>
<p>安装其他版本，替换源码的版本号即可，若不懂请不要随意修改，避免发生错误不知如何操作</p>
</blockquote>
<ul>
<li>安装脚本：</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">mkdir llvm_src</span><br><span class="line">cd llvm_src</span><br><span class="line">wget  https://github.com/llvm/llvm-project/releases/download/llvmorg-11.0.0/llvm-11.0.0.src.tar.xz</span><br><span class="line">tar xf llvm-11.0.0.src.tar.xz</span><br><span class="line">mv llvm-11.0.0.src llvm</span><br><span class="line">wget https://github.com/llvm/llvm-project/releases/download/llvmorg-11.0.0/clang-11.0.0.src.tar.xz</span><br><span class="line">tar xf clang-11.0.0.src.tar.xz</span><br><span class="line">mv clang-11.0.0.src clang</span><br><span class="line">wget https://github.com/llvm/llvm-project/releases/download/llvmorg-11.0.0/libcxx-11.0.0.src.tar.xz</span><br><span class="line">tar xf libcxx-11.0.0.src.tar.xz</span><br><span class="line">mv libcxx-11.0.0.src libcxx</span><br><span class="line">wget https://github.com/llvm/llvm-project/releases/download/llvmorg-11.0.0/libcxxabi-11.0.0.src.tar.xz</span><br><span class="line">tar xf libcxxabi-11.0.0.src.tar.xz</span><br><span class="line">mv libcxxabi-11.0.0.src.tar.xz libcxxabi</span><br><span class="line">wget https://github.com/llvm/llvm-project/releases/download/llvmorg-11.0.0/clang-tools-extra-11.0.0.src.tar.xz</span><br><span class="line">tar xf clang-tools-extra-11.0.0.src.tar.xz</span><br><span class="line">mv clang-tools-extra-11.0.0.src.tar.xz clang-tools-extra</span><br><span class="line"><span class="meta">#</span><span class="bash"> build</span></span><br><span class="line">mkdir Release</span><br><span class="line">cd Release</span><br><span class="line">cmake ../llvm -DCMAKE_BUILD_TYPE=Release -DLLVM_ENABLE_PROJECTS="clang;libcxx;libcxxabi;clang-tools-extra;"</span><br><span class="line">make -j8</span><br><span class="line">make install</span><br><span class="line"><span class="meta">#</span><span class="bash"> delete tmp and src files</span></span><br><span class="line">cd ..</span><br><span class="line">rm -rf llvm_src</span><br></pre></td></tr></table></figure>

<blockquote>
<p>此脚本为纯手打，未执行过，如有错误请及时反馈</p>
</blockquote>
<h2 id="下载vim配置"><a href="#下载vim配置" class="headerlink" title="下载vim配置"></a>下载vim配置</h2><p>​    使用的是skywb的配置，如果有其他的配置请自行下载或使用</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br><span class="line">mv .vim .vim.back   # 如不需要备份请直接删除</span><br><span class="line">mkdir .vim</span><br><span class="line">git clone --depth 1 https://github.com/skywb/vim-config.git ./.vim</span><br><span class="line">mv .vimrc .vimrc.back   # 如不需要备份请直接删除</span><br><span class="line">ln -s .vim/vimrc ./.vimrc</span><br><span class="line">cd .vim/</span><br><span class="line">git submodule init</span><br><span class="line">git submodule update</span><br><span class="line">vim -c ":PlugInstall" -c "q"</span><br></pre></td></tr></table></figure>



<p>由于coc.nvim版本里存在部分问题，需要手动执行 :PlugInstall</p>
<hr>
<p>参考连接：</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sonky.top/ecad5b71/" data-id="ckkdxl40o000pnvpeh7ot7zcc"
         class="article-share-link">Share</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tool/" rel="tag">tool</a></li></ul>

    </footer>

  </div>

  

  

</article>

<style>
.mydivinarticle {
	position: absolute;
	left: 50%;
	transform: translateX(-50%);
	opacity: 0.9;
	border:solid 1px black;
	width:162px;
	height: 36px;
	margin:20px auto;
	text-align: center;
	color: #000;
	background:  #FFF;
	line-height: 34px;
	font-weight: bold;
}
</style>


      
        

<article id="post-Conan使用入门" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/1ebe501c/">Conan使用入门</a>
    </h2>
  
  




      </header>
    

    
      <div class="article-meta">
        <a href="/1ebe501c/" class="article-date">
  <time datetime="2020-04-10T05:31:59.000Z" itemprop="datePublished">2020-04-10</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/tool/">tool</a>
  </div>

      </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
        <h2 id="tl-dr"><a href="#tl-dr" class="headerlink" title="tl;dr"></a>tl;dr</h2><p>Conan 是C++的一个包管理工具，使得C++安装第三方库变的很方便。 类似于vs的NuGet</p>
<p>Conan的基本命令：</p>
<ul>
<li><p>查找库： <code>conan search poco --remote=conan-center</code></p>
</li>
<li><p>安装库：<code>conan inspect poco/1.9.4</code></p>
</li>
<li><p>安装到项目：<code>conan install ..</code></p>
</li>
<li><p>conanfile.txt样例：</p>
  <figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[requires]</span><br><span class="line">poco/1.9.4</span><br><span class="line"></span><br><span class="line">[generators]</span><br><span class="line">cmake</span><br></pre></td></tr></table></figure>
</li>
<li><p>CMakeLists.txt 插入内容：</p>
  <figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span>(<span class="variable">$&#123;CMAKE_BINARY_DIR&#125;</span>/conanbuildinfo.cmake)</span><br><span class="line">conan_basic_setup()</span><br></pre></td></tr></table></figure>



</li>
</ul>
        
			<a class="article-more-link" href="/1ebe501c/">
			  <div class="mydivinarticle">
				Read More...
			  </div>
		</a>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sonky.top/1ebe501c/" data-id="ckkdxl40e0006nvpe4arh7ye4"
         class="article-share-link">Share</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/" rel="tag">C++</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/conan/" rel="tag">conan</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tool/" rel="tag">tool</a></li></ul>

    </footer>

  </div>

  

  

</article>

<style>
.mydivinarticle {
	position: absolute;
	left: 50%;
	transform: translateX(-50%);
	opacity: 0.9;
	border:solid 1px black;
	width:162px;
	height: 36px;
	margin:20px auto;
	text-align: center;
	color: #000;
	background:  #FFF;
	line-height: 34px;
	font-weight: bold;
}
</style>


      
        

<article id="post-vscode-wsl编译调试C-工程" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/95e6964/">vscode+wsl编译调试C++工程</a>
    </h2>
  
  




      </header>
    

    
      <div class="article-meta">
        <a href="/95e6964/" class="article-date">
  <time datetime="2020-03-03T01:56:25.000Z" itemprop="datePublished">2020-03-03</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/tool/">tool</a>
  </div>

      </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
        <h2 id="tl-dr"><a href="#tl-dr" class="headerlink" title="tl;dr"></a>tl;dr</h2><p><a href="vscode:extension/ms-vscode-remote.remote-wsl">安装remote-WSL插件</a></p>
<p> <a href="vscode:extension/ms-vscode.cpptools">安装C++调试工具</a></p>
<p>在wsl中要安装gdb与对应的编译工具</p>
<p><code>code .</code> 可在vscode中打开当前文件夹，并远程连接。</p>
<p><img src="/95e6964/test2-1583203445737.gif" alt="效果"></p>
        
			<a class="article-more-link" href="/95e6964/">
			  <div class="mydivinarticle">
				Read More...
			  </div>
		</a>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sonky.top/95e6964/" data-id="ckkdxl40p000tnvpe9j16g6tb"
         class="article-share-link">Share</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vscode/" rel="tag">vscode</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/wsl/" rel="tag">wsl</a></li></ul>

    </footer>

  </div>

  

  

</article>

<style>
.mydivinarticle {
	position: absolute;
	left: 50%;
	transform: translateX(-50%);
	opacity: 0.9;
	border:solid 1px black;
	width:162px;
	height: 36px;
	margin:20px auto;
	text-align: center;
	color: #000;
	background:  #FFF;
	line-height: 34px;
	font-weight: bold;
}
</style>


      
        

<article id="post-更新安装到WSL2" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/de2aaebe/">更新安装到WSL2</a>
    </h2>
  
  




      </header>
    

    
      <div class="article-meta">
        <a href="/de2aaebe/" class="article-date">
  <time datetime="2020-02-29T03:11:53.000Z" itemprop="datePublished">2020-02-29</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/tool/">tool</a>
  </div>

      </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
        <h2 id="tl-dr"><a href="#tl-dr" class="headerlink" title="tl;dr"></a>tl;dr</h2><p>必须是18917或更高版本：</p>
<p>powershell管理员运行：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dism.exe /online /<span class="built_in">enable-feature</span> /featurename:Microsoft<span class="literal">-Windows</span><span class="literal">-Subsystem</span><span class="literal">-Linux</span> /all /norestart</span><br><span class="line">dism.exe /online /<span class="built_in">enable-feature</span> /featurename:VirtualMachinePlatform /all /norestart</span><br></pre></td></tr></table></figure>

<p>检查当前使用的bash名</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl <span class="literal">-l</span></span><br></pre></td></tr></table></figure>

<p>设置版本：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wsl -<span class="literal">-set</span><span class="literal">-version</span> &lt;Distro&gt; <span class="number">2</span></span><br><span class="line">wsl -<span class="literal">-set</span><span class="literal">-default</span><span class="literal">-version</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>其中&lt;Distro&gt; 替换成对应的bash名字</p>
        
			<a class="article-more-link" href="/de2aaebe/">
			  <div class="mydivinarticle">
				Read More...
			  </div>
		</a>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sonky.top/de2aaebe/" data-id="ckkdxl40r000znvpea9v8gl0l"
         class="article-share-link">Share</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tool/" rel="tag">tool</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/wsl/" rel="tag">wsl</a></li></ul>

    </footer>

  </div>

  

  

</article>

<style>
.mydivinarticle {
	position: absolute;
	left: 50%;
	transform: translateX(-50%);
	opacity: 0.9;
	border:solid 1px black;
	width:162px;
	height: 36px;
	margin:20px auto;
	text-align: center;
	color: #000;
	background:  #FFF;
	line-height: 34px;
	font-weight: bold;
}
</style>


      
        

<article id="post-Pimpl-pattern" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/1fb7cb45/">Pimpl 模式</a>
    </h2>
  
  




      </header>
    

    
      <div class="article-meta">
        <a href="/1fb7cb45/" class="article-date">
  <time datetime="2019-12-01T06:17:45.000Z" itemprop="datePublished">2019-12-01</time>
</a>
        
      </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
        <p>​    Pimpl （pointer to implementation） 是一种将接口和具体的实现分开的一种方式，优化编译时间，保护封装实现的一种经验技巧。</p>
<h2 id="tl-dr"><a href="#tl-dr" class="headerlink" title="tl;dr"></a>tl;dr</h2><p>​    就是说模块对外接口类里面不放实现，而是保存一个指针， 指向真正实现的类。然后在接口类里面同名方法通过指针调用真正实现方法。</p>
        
			<a class="article-more-link" href="/1fb7cb45/">
			  <div class="mydivinarticle">
				Read More...
			  </div>
		</a>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sonky.top/1fb7cb45/" data-id="ckkdxl40m000jnvpe60cu15gi"
         class="article-share-link">Share</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BC%96%E7%A8%8B/" rel="tag">编程</a></li></ul>

    </footer>

  </div>

  

  

</article>

<style>
.mydivinarticle {
	position: absolute;
	left: 50%;
	transform: translateX(-50%);
	opacity: 0.9;
	border:solid 1px black;
	width:162px;
	height: 36px;
	margin:20px auto;
	text-align: center;
	color: #000;
	background:  #FFF;
	line-height: 34px;
	font-weight: bold;
}
</style>


      
        

<article id="post-GTest单元测试框架的基本使用" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/29d24fe4/">GTest单元测试框架的基本使用</a>
    </h2>
  
  




      </header>
    

    
      <div class="article-meta">
        <a href="/29d24fe4/" class="article-date">
  <time datetime="2019-11-10T08:03:52.000Z" itemprop="datePublished">2019-11-10</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/tool/">tool</a>
  </div>

      </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
        <h2 id="GTest"><a href="#GTest" class="headerlink" title="GTest"></a>GTest</h2><blockquote>
<p>简介： google的单元测试框架</p>
</blockquote>
<h3 id="tl-dr"><a href="#tl-dr" class="headerlink" title="tl;dr"></a>tl;dr</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;gtest/gtest.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST(TestFun, Add) &#123;</span><br><span class="line">	EXPECT_EQ(add(<span class="number">1</span>, <span class="number">1</span>), <span class="number">2</span>);</span><br><span class="line">	EXPECT_EQ(add(<span class="number">1</span>, <span class="number">2</span>), <span class="number">2</span>) &lt;&lt; <span class="string">"add (1, 2) 应该是 "</span> &lt;&lt; <span class="number">3</span> &lt;&lt; <span class="string">"是的的结果是 "</span> &lt;&lt; add(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">	ASSERT_EQ(add(<span class="number">2</span>, <span class="number">2</span>), <span class="number">4</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>有一个被测试的方法， add， 通过TEST添加一个测试案例， 可以使用EXPECT和ASSERT两种宏， 实现测试值是否正确， 每个宏后面都可以跟上解释信息。  其中第二个很明显是错误的， 输出结果看下面。</p>
<p>编译命令<code>g++ file.cpp -lgtest -lgtest_main -lpthread -o main</code></p>
<p>其中用到了三个动态链接库， 第一个是gtest的库， 第二个是运行所有测试的实现， 其实里面就是写了个main函数， 也可以自己写，不连接这个库， 第三个是多线程库， 因为gtest使用了线程。</p>
<p>运行结果：</p>
<p><img src="/29d24fe4/1573372797119.png" alt="1573372797119"></p>
<p>可以看到失败的地方会有提示。</p>
        
			<a class="article-more-link" href="/29d24fe4/">
			  <div class="mydivinarticle">
				Read More...
			  </div>
		</a>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sonky.top/29d24fe4/" data-id="ckkdxl40b0002nvpe845t0sol"
         class="article-share-link">Share</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/gmock/" rel="tag">gmock</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/gtest/" rel="tag">gtest</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tool/" rel="tag">tool</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/" rel="tag">单元测试</a></li></ul>

    </footer>

  </div>

  

  

</article>

<style>
.mydivinarticle {
	position: absolute;
	left: 50%;
	transform: translateX(-50%);
	opacity: 0.9;
	border:solid 1px black;
	width:162px;
	height: 36px;
	margin:20px auto;
	text-align: center;
	color: #000;
	background:  #FFF;
	line-height: 34px;
	font-weight: bold;
}
</style>


      
        

<article id="post-Hexo-Commands" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/b89ddfa7/">Hexo Commands</a>
    </h2>
  
  




      </header>
    

    
      <div class="article-meta">
        <a href="/b89ddfa7/" class="article-date">
  <time datetime="2019-10-07T02:21:10.000Z" itemprop="datePublished">2019-10-07</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/tool/">tool</a>
  </div>

      </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
        <p>​    摘要：</p>
<p>​    Hexo common commands </p>
<ul>
<li>init     –  init</li>
<li>new   –  new blog</li>
<li>generate  – generate page</li>
<li>deploy  – push to github</li>
<li>clean  – clean</li>
<li>server  – run locally</li>
</ul>
        
			<a class="article-more-link" href="/b89ddfa7/">
			  <div class="mydivinarticle">
				Read More...
			  </div>
		</a>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sonky.top/b89ddfa7/" data-id="ckkdxl40f0007nvpefwtbdu82"
         class="article-share-link">Share</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tool/" rel="tag">tool</a></li></ul>

    </footer>

  </div>

  

  

</article>

<style>
.mydivinarticle {
	position: absolute;
	left: 50%;
	transform: translateX(-50%);
	opacity: 0.9;
	border:solid 1px black;
	width:162px;
	height: 36px;
	margin:20px auto;
	text-align: center;
	color: #000;
	background:  #FFF;
	line-height: 34px;
	font-weight: bold;
}
</style>


      
        

<article id="post-Linux常用技巧" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/7776412d/">Linux常用技巧</a>
    </h2>
  
  




      </header>
    

    
      <div class="article-meta">
        <a href="/7776412d/" class="article-date">
  <time datetime="2019-09-14T12:51:49.000Z" itemprop="datePublished">2019-09-14</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux%E5%9F%BA%E7%A1%80/">Linux基础</a>
  </div>

      </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
        <p>摘要：</p>
<p>​    在Linux下的一些常用的命令， 例如：</p>
<pre><code>- 快捷键
- whatis
- 文件操作
- 磁盘操作等 
- 进程等</code></pre>
        
			<a class="article-more-link" href="/7776412d/">
			  <div class="mydivinarticle">
				Read More...
			  </div>
		</a>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sonky.top/7776412d/" data-id="ckkdxl40g0008nvpe1qg80j3m"
         class="article-share-link">Share</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tool/" rel="tag">tool</a></li></ul>

    </footer>

  </div>

  

  

</article>

<style>
.mydivinarticle {
	position: absolute;
	left: 50%;
	transform: translateX(-50%);
	opacity: 0.9;
	border:solid 1px black;
	width:162px;
	height: 36px;
	margin:20px auto;
	text-align: center;
	color: #000;
	background:  #FFF;
	line-height: 34px;
	font-weight: bold;
}
</style>


      
        

<article id="post-hexo-fix-picture" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/dbf3a70c/">hexo插入图片无法显示的问题</a>
    </h2>
  
  




      </header>
    

    
      <div class="article-meta">
        <a href="/dbf3a70c/" class="article-date">
  <time datetime="2019-09-12T04:35:36.000Z" itemprop="datePublished">2019-09-12</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/other/">other</a>
  </div>

      </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
        <p>​    hexo上的图片无法显示的原因是hexo-asset-image插件有个bug， 解决一处错误之后就可以显示图片了。</p>
        
			<a class="article-more-link" href="/dbf3a70c/">
			  <div class="mydivinarticle">
				Read More...
			  </div>
		</a>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sonky.top/dbf3a70c/" data-id="ckkdxl40o000nnvpe6dzh7w2p"
         class="article-share-link">Share</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li></ul>

    </footer>

  </div>

  

  

</article>

<style>
.mydivinarticle {
	position: absolute;
	left: 50%;
	transform: translateX(-50%);
	opacity: 0.9;
	border:solid 1px black;
	width:162px;
	height: 36px;
	margin:20px auto;
	text-align: center;
	color: #000;
	background:  #FFF;
	line-height: 34px;
	font-weight: bold;
}
</style>


      
        

<article id="post-Protobuf3简单使用及Demo" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/f274fc39/">Protobuf3简单使用及Demo</a>
    </h2>
  
  




      </header>
    

    
      <div class="article-meta">
        <a href="/f274fc39/" class="article-date">
  <time datetime="2019-05-30T12:46:03.000Z" itemprop="datePublished">2019-05-30</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/C/">C++</a>
  </div>

      </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
        <p>摘要：</p>
<p>​    一个二进制协议， 可以兼容多种语言。</p>
        
			<a class="article-more-link" href="/f274fc39/">
			  <div class="mydivinarticle">
				Read More...
			  </div>
		</a>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sonky.top/f274fc39/" data-id="ckkdxl40m000hnvpe6agy3epe"
         class="article-share-link">Share</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/protbuf/" rel="tag">protbuf</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tool/" rel="tag">tool</a></li></ul>

    </footer>

  </div>

  

  

</article>

<style>
.mydivinarticle {
	position: absolute;
	left: 50%;
	transform: translateX(-50%);
	opacity: 0.9;
	border:solid 1px black;
	width:162px;
	height: 36px;
	margin:20px auto;
	text-align: center;
	color: #000;
	background:  #FFF;
	line-height: 34px;
	font-weight: bold;
}
</style>


      
  </article>
  

  
    <nav class="page-nav">
      
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next page</a>
    </nav>
  
</section>
</div>

  <footer class="footer">
  <div class="outer">
    <div class="float-right">
      <ul class="list-inline">
  
    <li><i class="fe fe-smile-alt"></i> <span id="busuanzi_value_site_uv"></span></li>
  
</ul>
    </div>
    <ul class="list-inline">
      <li>&copy; 2021 -sky-</li>
      <li>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></li>
      <li>Theme  <a href="https://github.com/zhwangart/hexo-theme-ocean" target="_blank" rel="noopener">Ocean</a></li>
    </ul>
  </div>
</footer>

</main>

  <aside class="sidebar">
    
    <button class="navbar-toggle"></button>
<nav class="navbar">
  
    <div class="logo">
      <a href="/"><img src="/images/hexo.svg" alt="-sky-"></a>
    </div>
  
  <ul class="nav nav-main">
    
      <li class="nav-item">
        <a class="nav-item-link" href="/">Home</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/archives">Archives</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/talk">Gallery</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/categories">Categories</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/tags">Tag</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/about">About</a>
      </li>
    
    <li class="nav-item">
      <a class="nav-item-link nav-item-search" title="搜索">
        <i class="fe fe-search"></i>
        Search
      </a>
    </li>
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      <div class="totop" id="totop">
  <i class="fe fe-rocket"></i>
</div>
    </li>
    <li class="nav-item">
      
        <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
          <i class="fe fe-feed"></i>
        </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
  </aside>
  
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/jquery.justifiedGallery.min.js"></script>


<script src="/js/lazyload.min.js"></script>


<script src="/js/busuanzi-2.3.pure.min.js"></script>


  
<script src="/fancybox/jquery.fancybox.min.js"></script>






<script src="/js/ocean.js"></script>


</body>
</html>